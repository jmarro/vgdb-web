<div *ngIf="company">
    <div class="header-container" [style]="backgroundStyle">
        <div class="common-header">
            <div class="side left-info">
                <div class="titles-container">
                    <div class="title">{{company.name}} <span [class]="'fi fi-' +company.country+' flag'"></span></div>
                </div>
                <div *ngIf="company.parent_company" class="related-game">Pertenece a <a [routerLink]="['/companies', company.parent_company.id]">{{company.parent_company.name}}</a></div>  
            </div>
            <div class="side right-info">
                <div class="logo-container">
                    <img class="logo" [src]="'http://localhost:3000/images/companies/'+company.main_img">
                </div>
            </div>
        </div>
    </div>

    <div class="common-content">
        <div class="main-company">
            <div class="company-info">
                <div class="info-entry">
                    <div class="label-info">Fecha fundaci贸n:</div>
                    <div class="value-info">{{company.founding_year}}</div>
                </div>
                <div class="company-status">
                    <div *ngIf="!company.active" class="company-active-button">
                        INACTIVA
                    </div>
                    <div *ngIf="company.active" class="company-active-button active">
                        ACTIVA
                    </div>
                </div>
                <div class="info-entry" *ngIf="company.defunct_year">
                    <div class="label-info">Fecha disoluci贸n:</div>
                    <div class="value-info">{{company.defunct_year}}</div>
                </div>
                <div class="info-entry" *ngIf="company.defunct_reason">
                    <div class="label-info">Raz贸n de disoluci贸n:</div>
                    <div class="value-info">{{company.defunct_reason}}</div>
                </div>
                <div class="info-entry" *ngIf="company.previous_names">
                    <div class="label-info">Nombres previos:</div>
                    <div class="value-info">{{company.previous_names}}</div>
                </div>
                <div class="info-entry" *ngIf="company.wikipedia">
                    <div class="value-info"><a [href]="company.wikipedia" target="_blank">Wikipedia</a></div>
                </div>
            </div>
        </div>
        <mat-expansion-panel *ngIf="company.games && company.games.length">
            <mat-expansion-panel-header class="divider"[style]="backgroundStyle">
              <mat-panel-title>
                Juegos
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div *ngIf="gamesDev && gamesDev.length" class="expansion-container">
                <div class="subtitle">Desarrollados:</div>
                <vgdb-items-list [itemsList]="gamesDev"
                            navigateTo="games" imgPath="games">
                </vgdb-items-list>
            </div>
            <div *ngIf="gamesPub && gamesPub.length" class="expansion-container">
                <div class="subtitle">Publicados:</div>
                <vgdb-items-list [itemsList]="gamesPub"
                            navigateTo="games" imgPath="games">
                </vgdb-items-list>
            </div>
        </mat-expansion-panel>
        <mat-expansion-panel *ngIf="company.platforms && company.platforms.length">
            <mat-expansion-panel-header class="divider"[style]="backgroundStyle">
              <mat-panel-title>
                Videoconsolas
              </mat-panel-title>
            </mat-expansion-panel-header>
            <vgdb-items-list [itemsList]="company.platforms"
                        navigateTo="platforms" imgPath="platforms">
            </vgdb-items-list>
        </mat-expansion-panel>
        <mat-expansion-panel *ngIf="company.sub_companies && company.sub_companies.length">
            <mat-expansion-panel-header class="divider"[style]="backgroundStyle">
              <mat-panel-title>
                Empresas filiales
              </mat-panel-title>
            </mat-expansion-panel-header>
            <vgdb-items-list [itemsList]="company.sub_companies"
                        navigateTo="companies" imgPath="companies">
            </vgdb-items-list>
        </mat-expansion-panel>
    </div>
</div>